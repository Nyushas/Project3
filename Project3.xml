<context>
    <input pattern="* (стоимост*|цен*|сколько стоит|почем) [билет] {[[на] [фильм] $Text] [$Date] [$Time]}">
        <!-- Jump to the reminder creation if Text and Time have been provided -->
        <context id="cost" if="full($Text) and full($Time)"/>

        <context if="empty($Text)" modal="true">
            <output value="Какой фильм Вас интересует?"/>

            <input pattern="$Text">
                <context id="time" if="empty($Time)"/>
                <context id="cost"/>
            </input>
        </context>

        <context id="time" if="empty($Time)">
            <output value="Какого числа вы собираетесь на фильм?" if="empty($Date)"/>
            <output value="Пожалуйста скажите какой сеанс вас интересует."/>
            <input>
                <pattern value="* {(* $Time) [$Date]} *"/>
                <pattern value="* $Date *"/>

                <context id="time" if="empty($Time)"/>
                <context id="cost"/>
            </input>
        </context>

        <context id="cost">
            <var name="Fmt" value='fmt($Date, "EEEE, MMMM dd", $req_lang)' if="full($Date)"/>
            <output value="Вот стоимость  билета на $Text, сеанс $Fmt в $Time"/>
        </context>
    </input>
</context>
